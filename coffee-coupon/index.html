<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="https://cyolo.io/img/favicon.svg" type="image/x-icon">
  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">

  <!-- Swiper -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css"/>

  <!-- CSS -->
  <link rel="stylesheet" href="../style.css">

  <!-- Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;700&family=Montserrat:wght@600;700&display=swap" rel="stylesheet">

  <title>Cyolo Coffee Coupons</title>
</head>

<body>
  <header class="px-4 pt-5 pb-2">
    <div class="logos d-flex justify-content-between align-items-center fixed-top p-4 mb-5">
      <img src="./img/cyolo-logo.svg" height="30" alt="">
      <img src="./img/ilans-logo.svg" height="23" alt="">
    </div>
    <div class="cup text-center px-5 pt-5">
      <img src="./img/coffee-cup.png" class="cup-img img-fluid" alt="">
      <img src="./img/coffee-cup-shadow.png" class="cup-img-shadow img-fluid" alt="">
    </div>
    <h5 class="user-name color-secodary mb-2">Hi, Diana</h5>
    <h1>Enjoy Original Coffee with Friends at ILAN'S</h1>
  </header>

  <div class="read-more text-secondary-emphasis px-4 pb-2 mb-5">
    Indulge in a month-long opportunity to enjoy free coffee for two with your office buddies!
    <div class="collapse" id="collapseText">
      It's not just about the coffee, but also an excellent chance to broaden your network and get to know diverse individuals within your workplace. We recommend inviting colleagues from various departments each time.
    </div>
    <div class="text-primary" id="read-more-btn" type="button" data-bs-toggle="collapse" data-bs-target="#collapseText" aria-expanded="false" aria-controls="collapseText">
      <span class="collapsed">Read more</span>
      <span class="expanded">Read less</span>
    </div>
  </div>

  <!-- Slider -->
  <div class="swiper ps-4 pb-5">
    <!-- Additional required wrapper -->
    <div class="swiper-wrapper">
      <!-- Slides -->
      <div class="swiper-slide rounded-4 p-4">
        <div class="slide-headings d-flex justify-content-between align-items-start w-100">
          <h4>
            <div class="rating d-flex mb-2">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#A5CE39" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
              </svg>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#A5CE39" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
              </svg>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#A5CE39" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
              </svg>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#A5CE39" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
              </svg>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#A5CE39" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
              </svg>
            </div>
            Two Cups
            <br>
            of Coffee
          </h4>
          <img src="./img/coffee-cup-small.png" width="100" class="align-top" alt="">
        </div>

        <div class="d-flex justify-content-between align-items-center w-100 color-light">
          <h2>$Free</h2>
          <button type="button" id="btn-1" class="custom-btn bg-color-light text-black rounded-4 save-btn-state" data-bs-toggle="modal" data-bs-target="#modalSheet">Order Now</button>
        </div>
      </div>

      <div class="swiper-slide rounded-4 p-4">
        <div class="slide-headings d-flex justify-content-between align-items-start w-100">
          <h4>
            <div class="rating d-flex mb-2">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#A5CE39" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
              </svg>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#A5CE39" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
              </svg>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#A5CE39" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
              </svg>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#A5CE39" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
              </svg>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#A5CE39" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
              </svg>
            </div>
            Two Cups
            <br>
            of Coffee
          </h4>
          <img src="./img/coffee-cup-small.png" width="100" class="align-top" alt="">
        </div>

        <div class="d-flex justify-content-between align-items-center w-100 color-light">
          <h2>$Free</h2>
          <button type="button" id="btn-2" class="custom-btn bg-color-light text-black rounded-4 save-btn-state" data-bs-toggle="modal" data-bs-target="#modalSheet">Order Now</button>
        </div>
      </div>

      <div class="swiper-slide rounded-4 p-4">
        <div class="slide-headings d-flex justify-content-between align-items-start w-100">
          <h4>
            <div class="rating d-flex mb-2">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#A5CE39" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
              </svg>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#A5CE39" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
              </svg>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#A5CE39" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
              </svg>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#A5CE39" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
              </svg>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#A5CE39" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
              </svg>
            </div>
            Two Cups
            <br>
            of Coffee
          </h4>
          <img src="./img/coffee-cup-small.png" width="100" class="align-top" alt="">
        </div>

        <div class="d-flex justify-content-between align-items-center w-100 color-light">
          <h2>$Free</h2>
          <button type="button" id="btn-3" class="custom-btn bg-color-light text-black rounded-4 save-btn-state" data-bs-toggle="modal" data-bs-target="#modalSheet">Order Now</button>
        </div>

      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="p-4">
    <small class="text-body">All coffee coupons can be applied at <strong>ILAN'S â€” Gibor House</strong> only.</small>
  </footer>

  <!-- Modal -->
  <div class="modal fade" tabindex="-1" role="dialog" id="modalSheet" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog position-absolute bottom-0 slideInUp" role="document">
      <div class="modal-content rounded-top-5 rounded-bottom-0 border-0 shadow p-3">
        <div class="modal-header border-bottom-0 justify-content-center">
          <h1 class="modal-title fs-4">Apply Coffee Coupon?</h1>
        </div>
        <div class="modal-body py-0 text-center">
          <p>Show this message to the coffee shop owner. Once ordered, the coffee will be served, and your coupon will be applied. <strong>This action cannot be undone.</strong></p>
        </div>
        <div class="modal-footer flex-column align-items-stretch w-100 gap-2 pb-3 border-top-0">
          <button type="button" class="custom-btn btn-outline bg-color-light text-black rounded-4 deny-btn" data-bs-dismiss="modal">No, Forget it</button>
          <button type="button" class="custom-btn bg-color-light text-black rounded-4 approved-btn" data-bs-dismiss="modal">Yes, Order Now</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Success Toast Message -->
  <section class="toast-message fixed-bottom d-none d-flex align-items-center p-4 bg-color-light text-success-emphasis bg-success-subtle border-top border-success-subtle">
    <img src="./img/check-icon.svg" alt="" class="me-2">
    Coupon applied! Enjoy coffee for two.
  </section>

  <!-- Closure Prompt -->
  <div id="closure" class="d-none fadeIn fixed-top w-100 h-100 d-flex justify-content-center align-items-center p-4">
    <div class="logos d-flex justify-content-between align-items-center fixed-top p-4 mb-5">
      <img src="./img/cyolo-logo.svg" height="30" alt="">
      <img src="./img/ilans-logo.svg" height="23" alt="">
    </div>

    <div class="card position-relative slideInUp border-0 p-5">
      <div class="closure-card-icon position-absolute top-0 d-flex justify-content-center align-items-center rounded-circle">
        <img src="./img/clap-icon.svg" alt="">
      </div>
      <h1 class="mb-3 pt-2">
        <div class="color-secodary">Nicely Done!</div>
        All Coupons Have Been Applied
      </h1>
      <p>
        We hope you enjoyed your association with others and hopefully got the chance to get to know a few colleagues just a bit better.
      </p>
    </div>
  </div>

  <!-- Intro -->
  <section class="intro fadeOut fixed-top w-100 h-100 d-flex justify-content-center align-items-center">
    <div class="logos d-flex justify-content-between align-items-center fixed-top p-4 mb-5">
      <img src="./img/cyolo-logo-black.svg" height="30" alt="">
      <img src="./img/ilans-logo-black.svg" height="23" alt="">
    </div>
    <img src="./img/intro-animation.gif" alt="" class="intro-animation img-fluid">
  </section>

  <!-- Show on mobile only -->
  <div class="mobile-hide d-none w-100 h-100 fixed-top justify-content-center align-items-center">
    <div class="card position-relative text-bg-dark text-center p-5">
      <span class="card-icon d-flex align-items-center justify-content-center position-absolute top-0 start-50 translate-middle">
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-phone" viewBox="0 0 16 16">
          <path d="M11 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h6zM5 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H5z"/>
          <path d="M8 14a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
        </svg>
      </span>
      <div class="card-body">
        <h5 class="card-title">Sorry, Mobile Support Only</h5>
        <p class="card-text">Please open this page on your mobile device to continue</p>
      </div>
    </div>
  </div>
</body>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>

<!-- Swiper JS -->
<script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>

<script>
  // Initialize Swiper
  const swiper = new Swiper('.swiper', {
    slidesPerView: "auto",
  });

  // Clear gif cache on every load
  window.addEventListener('load', function() {
    const gifImage = new Image();
    gifImage.src = "./img/intro-animation.gif";

    document.querySelector('.intro-animation').src = gifImage.src;
  });

  // Lock device orientation
  // let deviceScreenOrientation = window.screen.orientation;
  // deviceScreenOrientation.lock("portrait");
</script>

<!-- JSON Server Storage -->
<script>
  // Avoid scoping issues by encapsulating code inside anonymous function
  (function() {
    // variable to store our current state
    let btnstate;

    // bind to the onload event
    window.addEventListener('load', function() {
      // Get the current state from localstorage
      // State is stored as a JSON string
      btnstate = JSON.parse(localStorage['BTNstate'] || '{}');
    
      // Loop through state array and restore checked 
      // state for matching elements
      for(let i in btnstate) {
        let el = document.querySelector('button[id="' + i + '"]');
        if (el) {
          el.id = true;
          el.classList.add('disabled');
        }
      }
      
      // Get all checkboxes that you want to monitor state for
      let btn = document.getElementsByClassName('save-btn-state');
    
      // Loop through results and ...
      for(let i = 0; i < btn.length; i++) {

        // When all buttons have disabled class
        // If the amount of buttons matches the amount of disabled buttons...
        let allBtnsClicked = function() {
          if (btn.length === document.querySelectorAll(".custom-btn.disabled").length) {
            document.getElementById('closure').classList.remove('d-none');
          }
        }

        allBtnsClicked();
    
        //bind click event handler
        btn[i].addEventListener('click', function(evt) {
          // If checkbox is checked then save to state
          clickedButton = this;
          let toastMessage = document.querySelector('.toast-message');
          
          // Click approve button
          document.querySelector('.approved-btn').addEventListener('click', function() {
            btnstate[clickedButton.id] = true;
            clickedButton.classList.add('disabled');

            // Success Toast Message
            toastMessage.classList.remove('d-none');
            toastMessage.classList.add('slideInUp');
            setTimeout(function () {
              toastMessage.classList.add('slideOutDown');
            }, 4000);
            // Reset Toast Message
            setTimeout(function () {
              toastMessage.classList.add('d-none');
              toastMessage.classList.remove('slideInUp');
              toastMessage.classList.remove('slideOutDown');
            }, 5000);

            // Open Closure Prompt
            setTimeout(function () {
              allBtnsClicked();
            }, 1000);
            
            // Persist state
            localStorage.BTNstate = JSON.stringify(btnstate);              
          });
        });
      }
      
    });   
  })();
</script>
</html>
